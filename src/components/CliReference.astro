---
const options = [
  { flag: '-d, --domain', value: '<domain>', description: 'Target domain to analyze' },
  { flag: '-i, --ip', value: '<address>', description: 'Override IP address for connection' },
  { flag: '-p, --port', value: '<port>', description: 'Target port (default: 443)' },
  { flag: '--non-interactive', value: '', description: 'Run all checks without prompts' },
  { flag: '-q, --quiet', value: '', description: 'Only output the security grade' },
  { flag: '--json', value: '', description: 'Output results in JSON format' },
  { flag: '-o, --output', value: '<file>', description: 'Export HTML report to file' },
  { flag: '-v, --verbose', value: '', description: 'Show detailed check information' },
  { flag: '--skip-whois', value: '', description: 'Skip WHOIS lookup' },
  { flag: '--timeout', value: '<seconds>', description: 'Connection timeout (default: 10)' },
  { flag: '--config', value: '<file>', description: 'Custom configuration file path' },
];

const certCommands = [
  { command: 'cert info <files...>', description: 'Display certificate details from PEM files' },
  { command: 'cert verify --cert <file> --key <file>', description: 'Verify certificate and key pair match' },
  { command: 'cert verify --chain <file> --hostname <domain>', description: 'Validate certificate chain for hostname' },
  { command: 'cert convert <file> --to <format>', description: 'Convert between PEM, DER, and PKCS#12 formats' },
];

const exitCodes = [
  { code: '0', meaning: 'Success — all checks passed', color: 'text-tokyo-green' },
  { code: '1', meaning: 'Warning — certificate expiring soon or minor issues', color: 'text-tokyo-orange' },
  { code: '2', meaning: 'Failure — certificate expired, connection failed, or critical error', color: 'text-tokyo-red' },
];
---

<section id="reference" class="py-16 md:py-24 relative">
  <div class="section-divider max-w-4xl mx-auto mb-16"></div>

  <div class="max-w-4xl mx-auto px-4">
    <div class="text-center mb-14">
      <p class="font-mono text-xs text-tokyo-purple uppercase tracking-[0.2em] mb-3">Reference</p>
      <h2 class="text-2xl md:text-4xl font-bold text-tokyo-text">
        CLI <span class="gradient-text">options & commands</span>
      </h2>
    </div>

    <!-- Options Table -->
    <div class="terminal-window rounded-xl overflow-hidden mb-6">
      <div class="px-4 py-3 bg-tokyo-bg-dark/80 border-b border-tokyo-border/50">
        <span class="font-mono text-sm text-tokyo-cyan">Global Options</span>
      </div>
      <div class="bg-tokyo-bg-dark overflow-x-auto">
        <table class="w-full font-mono text-xs md:text-[13px]">
          <thead>
            <tr class="border-b border-tokyo-border/50 text-left">
              <th class="px-5 py-3 text-tokyo-text-dim font-normal">Flag</th>
              <th class="px-5 py-3 text-tokyo-text-dim font-normal">Value</th>
              <th class="px-5 py-3 text-tokyo-text-dim font-normal">Description</th>
            </tr>
          </thead>
          <tbody>
            {options.map((opt) => (
              <tr class="border-b border-tokyo-border/30 hover:bg-tokyo-bg-light/20 transition-colors">
                <td class="px-5 py-2.5 text-tokyo-green whitespace-nowrap">{opt.flag}</td>
                <td class="px-5 py-2.5 text-tokyo-orange whitespace-nowrap">{opt.value}</td>
                <td class="px-5 py-2.5 text-tokyo-text-dim">{opt.description}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>

    <!-- Cert Commands Table -->
    <div class="terminal-window rounded-xl overflow-hidden mb-6">
      <div class="px-4 py-3 bg-tokyo-bg-dark/80 border-b border-tokyo-border/50">
        <span class="font-mono text-sm text-tokyo-cyan">Certificate Commands</span>
      </div>
      <div class="bg-tokyo-bg-dark overflow-x-auto">
        <table class="w-full font-mono text-xs md:text-[13px]">
          <thead>
            <tr class="border-b border-tokyo-border/50 text-left">
              <th class="px-5 py-3 text-tokyo-text-dim font-normal">Command</th>
              <th class="px-5 py-3 text-tokyo-text-dim font-normal">Description</th>
            </tr>
          </thead>
          <tbody>
            {certCommands.map((cmd) => (
              <tr class="border-b border-tokyo-border/30 hover:bg-tokyo-bg-light/20 transition-colors">
                <td class="px-5 py-2.5 text-tokyo-blue whitespace-nowrap">{cmd.command}</td>
                <td class="px-5 py-2.5 text-tokyo-text-dim">{cmd.description}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>

    <!-- Exit Codes -->
    <div class="terminal-window rounded-xl overflow-hidden">
      <div class="px-4 py-3 bg-tokyo-bg-dark/80 border-b border-tokyo-border/50">
        <span class="font-mono text-sm text-tokyo-cyan">Exit Codes</span>
      </div>
      <div class="bg-tokyo-bg-dark overflow-x-auto">
        <table class="w-full font-mono text-xs md:text-[13px]">
          <thead>
            <tr class="border-b border-tokyo-border/50 text-left">
              <th class="px-5 py-3 text-tokyo-text-dim font-normal">Code</th>
              <th class="px-5 py-3 text-tokyo-text-dim font-normal">Meaning</th>
            </tr>
          </thead>
          <tbody>
            {exitCodes.map((ec) => (
              <tr class="border-b border-tokyo-border/30 hover:bg-tokyo-bg-light/20 transition-colors">
                <td class={`px-5 py-2.5 ${ec.color} font-bold`}>{ec.code}</td>
                <td class="px-5 py-2.5 text-tokyo-text-dim">{ec.meaning}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
