---
const features = [
  {
    icon: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"/></svg>`,
    title: 'DNS Resolution',
    description: 'Multi-provider DNS lookups with A, AAAA, CNAME records and DNSSEC validation.',
    color: '#7dcfff',
    tag: 'dns',
  },
  {
    icon: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"/></svg>`,
    title: 'TLS Analysis',
    description: 'Protocol detection (TLS 1.0-1.3), cipher analysis, and handshake inspection.',
    color: '#7aa2f7',
    tag: 'tls',
  },
  {
    icon: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"/></svg>`,
    title: 'Certificate Ops',
    description: 'Inspect, verify, and convert certificates. PEM/DER/PKCS#12 support.',
    color: '#9ece6a',
    tag: 'cert',
  },
  {
    icon: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/></svg>`,
    title: 'WHOIS Lookup',
    description: 'Domain registration details, registrar info, and expiration monitoring.',
    color: '#e0af68',
    tag: 'whois',
  },
  {
    icon: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"/></svg>`,
    title: 'Security Grading',
    description: 'Automated A+ through F grading based on industry best practices.',
    color: '#bb9af7',
    tag: 'grade',
  },
  {
    icon: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605"/></svg>`,
    title: 'Reports & Export',
    description: 'HTML reports, JSON output for CI/CD, and iCal expiry reminders.',
    color: '#f7768e',
    tag: 'report',
  },
];
---

<section id="slide-features" class="slide flex items-center justify-center relative overflow-hidden py-12 md:py-16">
  <!-- Background effects -->
  <div class="absolute inset-0 grid-bg opacity-15"></div>
  <div class="absolute top-1/2 left-1/4 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-tokyo-blue/6 blur-[150px]"></div>
  <div class="absolute bottom-0 right-1/4 w-[500px] h-[500px] rounded-full bg-tokyo-purple/5 blur-[120px]"></div>

  <div class="relative w-full max-w-6xl mx-auto px-4">
    <div class="text-center mb-8 md:mb-12 lg:mb-16">
      <p class="font-mono text-xs text-tokyo-blue uppercase tracking-[0.25em] mb-3 md:mb-4 slide-fade-up">Features</p>
      <h2 class="text-2xl md:text-4xl lg:text-5xl font-bold text-tokyo-text slide-fade-up slide-delay-1">
        Everything you need for<br />
        <span class="gradient-text">SSL/TLS diagnostics</span>
      </h2>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5 lg:gap-6">
      {features.map((feature, i) => (
        <div
          class="feature-card group bg-tokyo-bg-dark/60 border border-tokyo-border/40 rounded-xl md:rounded-2xl p-4 md:p-6 lg:p-8 backdrop-blur-sm slide-fade-up"
          style={`--slide-delay: ${0.1 + i * 0.08}s`}
        >
          <!-- Icon + Tag header -->
          <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-2 md:gap-0 mb-3 md:mb-5">
            <div
              class="flex items-center justify-center w-10 h-10 md:w-12 md:h-12 rounded-lg md:rounded-xl border border-current/20 transition-transform group-hover:scale-110"
              style={`color: ${feature.color}; background: ${feature.color}12`}
              set:html={feature.icon}
            />
            <span
              class="font-mono text-[9px] md:text-[10px] uppercase tracking-widest px-2 py-0.5 md:px-2.5 md:py-1 rounded-full border w-fit"
              style={`color: ${feature.color}; border-color: ${feature.color}30; background: ${feature.color}08`}
            >
              {feature.tag}
            </span>
          </div>

          <!-- Content -->
          <h3 class="font-mono font-bold text-sm md:text-lg mb-1 md:mb-2 transition-colors" style={`color: ${feature.color}`}>
            {feature.title}
          </h3>
          <p class="text-tokyo-text-dim text-xs md:text-sm leading-relaxed hidden md:block">
            {feature.description}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  // Mouse follow glow effect on feature cards
  document.querySelectorAll('.feature-card').forEach((card) => {
    card.addEventListener('mousemove', (e) => {
      const rect = (card as HTMLElement).getBoundingClientRect();
      const x = ((e as MouseEvent).clientX - rect.left) / rect.width * 100;
      const y = ((e as MouseEvent).clientY - rect.top) / rect.height * 100;
      (card as HTMLElement).style.setProperty('--mouse-x', `${x}%`);
      (card as HTMLElement).style.setProperty('--mouse-y', `${y}%`);
    });
  });
</script>
